// Pixabay Image Gallery Widget v1.0.3
// https://github.com/Pixabay/JavaScript-PixabayWidget
!function(){function e(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""}function t(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function a(e,t,a,r,n){var i="pxw_callback_"+s;return window[i]=function(o){e(o,t,a,r,n);try{delete window[i]}catch(s){}},s++,i}function r(e,t){for(var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(a.bind(e)(t))return e;e=e.parentElement}}function n(e){for(var t="",a=0,r=e.attributes;a<r.length;a++)"data-attrstr"!=r[a].name&&"data-prefilled"!=r[a].name&&(t+=r[a].name+r[a].value);return t}function i(){for(var e=0,t=document.querySelectorAll("."+l.class_name);e<t.length;e++){var r=t[e];if(n(r)!=r.getAttribute("data-attrstr")){r.setAttribute("data-attrstr",n(r));var i=parseInt(r.getAttribute("data-page"))||1,s=parseInt(r.getAttribute("data-per-page"))||l.per_page,d=r.getAttribute("data-search")||"",c=r.getAttribute("data-user")||"";s=s>100?100:s,c&&(d="user:"+c+" "+d);var g="https://pixabay.com/api/?key=920846-f166ae7378e8ef75465ff68ef&lang="+(r.getAttribute("data-lang")||l.lang)+"&order="+(r.getAttribute("data-order")||l.order)+"&image_type="+(r.getAttribute("data-image-type")||l.image_type)+"&safesearch="+(r.getAttribute("data-safesearch")||l.safesearch)+"&editors_choice="+(r.getAttribute("data-editors-choice")||l.editors_choice)+"&per_page="+s+"&page="+i+"&q="+encodeURIComponent(d);if(r.getAttribute("data-prefilled"))r.removeAttribute("data-prefilled"),APIResponse(!1,r,i,s,g);else if(g in o)APIResponse(o[g],r,i,s,g);else{var p=document.createElement("script");p.src=g+"&callback="+a(APIResponse,r,i,s,g),document.body.appendChild(p)}}}}var o={},s=0,l={class_name:"pixabay_widget",row_height:170,per_page:20,max_rows:0,truncate:!0,lang:"en",image_type:"all",safesearch:!1,editors_choice:!1,order:"popular",target:"",navpos:"bottom",branding:!0,prev:"◄ PREV",next:"NEXT ►"};if("object"==typeof pixabayWidget)for(var d in pixabayWidget)Object.prototype.hasOwnProperty.call(pixabayWidget,d)&&(l[d]=pixabayWidget[d]);styles="** .noselect { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }** a, ** b { color: #4e99c7; text-decoration: none; font-weight: normal; cursor: pointer; transition: .3s; }** a:hover, ** b:hover { opacity: .7; }** a img { border: 0; }** **_nav { clear: both; padding: 3px 7px; font: normal 12px arial, sans-serif; color: #777; }** **_nav span { color: #ddd; cursor: default; }** .branding { float: right; }**.flex_grid { overflow: hidden; }**.flex_grid .item { float: left; margin: 1px; box-sizing: content-box; overflow: hidden; position: relative;  }**.flex_grid .item img { display: block; width: auto; height: 100%; background: #fff; transition: .3s; }**.flex_grid .item img:hover { opacity: .85; }".replace(/\*\*/g,"."+l.class_name);var c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=styles:c.appendChild(document.createTextNode(styles)),document.getElementsByTagName("head")[0].appendChild(c);var g=function(){function e(e){function t(e,a,r,n){function i(e){r.maxRows&&g>r.maxRows||r.truncate&&e&&g>1?u[o][0].style.display="none":(u[o][4]&&(u[o][3].setAttribute("src",u[o][4]),u[o][4]=""),u[o][0].style.width=s+"px",u[o][0].style.height=m+"px",u[o][0].style.display="block")}for(var o,s,l,d,c=1,g=1,p=e.clientWidth-2,u=[],f=0,m=r.rowHeight,h=0;h<a.length;h++)if(u.push(a[h]),f+=a[h][2]+r.margin,f>=p){var b=u.length*r.margin;for(c=(p-b)/(f-b),m=Math.ceil(r.rowHeight*c),l=0,o=0;o<u.length;o++)s=Math.ceil(u[o][2]*c),l+=s+r.margin,l>p&&(s-=l-p),i();u=[],f=0,g++}for(o=0;o<u.length;o++)s=Math.floor(u[o][2]*c),d=Math.floor(r.rowHeight*c),i(!0);n||p==e.clientWidth||t(e,a,r,!0)}if(document.querySelector){var a={selector:0,container:".item",object:"img",rowHeight:180,maxRows:0,truncate:0};for(var r in e)e.hasOwnProperty(r)&&(a[r]=e[r]);for(var n="object"==typeof a.selector?[a.selector]:document.querySelectorAll(a.selector),i=0;i<n.length;i++){var o=n[i],s=o.querySelectorAll(a.container),l=[],d=(new Date).getTime();if(s.length){var c=window.getComputedStyle?getComputedStyle(s[0],null):s[0].currentStyle;a.margin=(parseInt(c.marginLeft)||0)+(parseInt(c.marginRight)||0)+(Math.round(parseFloat(c.borderLeftWidth))||0)+(Math.round(parseFloat(c.borderRightWidth))||0);for(var g=0;g<s.length;g++){var p=s[g],u=parseInt(p.getAttribute("data-w")),f=u*(a.rowHeight/parseInt(p.getAttribute("data-h"))),m=p.querySelector(a.object);l.push([p,u,f,m,m.getAttribute("data-src")])}t(o,l,a);var h=function(){t(o,l,a)};document.addEventListener?(window["flexImages_listener"+d]=h,window.removeEventListener("resize",window["flexImages_listener"+o.getAttribute("data-flex-t")]),delete window["flexImages_listener"+o.getAttribute("data-flex-t")],window.addEventListener("resize",window["flexImages_listener"+d])):o.onresize=h,o.setAttribute("data-flex-t",d)}}}}return e}();!function(){"function"==typeof define&&define.amd?define("flexImages",function(){return g}):"undefined"!=typeof module&&module.exports?module.exports=g:window.flexImages=g}(),APIResponse=function(a,r,n,i,s){var d="",c="",p=parseInt(r.getAttribute("data-row-height"))||l.row_height,u=parseInt(r.getAttribute("data-max-rows"))||l.max_rows,f=r.getAttribute("data-truncate")||l.truncate,m=r.getAttribute("data-target")||l.target,h=r.getAttribute("data-branding")||l.branding,b=r.getAttribute("data-prev")||l.prev,v=r.getAttribute("data-next")||l.next,w=r.getAttribute("data-navpos")||l.navpos;if((30>p||p>180)&&(p=170),"false"==f?f=0:"true"==f&&(f=1),"false"==h?h=0:"true"==h&&(h=1),0!=a){o[s]=a;var x=a.totalHits>i&&b&&v;(x||h)&&(d+='<div class="noselect '+l.class_name+'_nav">',h&&(d+='<div class="branding">Powered by <a href="https://pixabay.com/" target="'+m+'">Pixabay</a></div>'),x&&(d+=n>1?'<b class="'+l.class_name+'_prev">'+b+"&nbsp;</b>":"<span>"+b+"&nbsp;</span>",d+=n*i<a.totalHits?'<b class="'+l.class_name+'_next">&nbsp; '+v+"</b>":"<span>&nbsp; "+v+"</span>"),d+="</div>"),"top"==w&&(c=d);for(var y=0,_=a.hits;y<_.length;y++){var A=_[y].previewWidth,I=_[y].previewHeight,S=_[y].previewURL;p>I-10&&(A*=180/(I+1),I=180,S=S.replace("_150","__180")),c+='<div class="item" data-w="'+A+'" data-h="'+I+'"><a title="'+e(t(_[y].tags))+'" href="'+_[y].pageURL+'" target="'+m+'"><img src="https://pixabay.com/static/img/blank.gif" data-src="'+S+'"></a></div>'}"bottom"==w&&(c+=d),r.innerHTML=c}r.className.indexOf("flex_grid")<0&&(r.className+=" flex_grid"),new g({selector:r,rowHeight:p,maxRows:u,truncate:f})},document.addEventListener?document.addEventListener("click",function(e){var t=0;if(e.target.className==l.class_name+"_prev"?t=-1:e.target.className==l.class_name+"_next"&&(t=1),t){var a=r(e.target,"."+l.class_name),n=(parseInt(a.getAttribute("data-page"))||1)+t;n&&(a.setAttribute("data-page",n),i()),e.preventDefault()}}):(l.prev="",l.next=""),this.initPixabayWidget=i,/bot|crawl|spider/i.test(navigator.userAgent)||("loading"!=document.readyState?i():document.addEventListener?document.addEventListener("DOMContentLoaded",i):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&i()}))}();
